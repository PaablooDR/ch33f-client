<ion-header>
  <ion-toolbar>
    <ion-title>Add Recipe</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="false">
  <form [formGroup]="formRecipe" (ngSubmit)="onSubmit($event)">
    <!--<ion-item>
      <ion-input label="User name" labelPlacement="floating" placeholder="User name" formControlName="name"></ion-input>
      <ion-note slot="error" *ngIf="checkError('name', 'required')">
        User's name field is required
      </ion-note>
      <ion-note slot="error" *ngIf="checkError('name', 'maxLength')">
        User's name field must be maximum 50 characters
      </ion-note>
      <ion-note slot="error" *ngIf="checkError('name', 'minLength')">
        User's name field must be minimum 5 characters
      </ion-note>
    </ion-item>-->
    <ion-item>
      <ion-input label="Title" labelPlacement="floating" placeholder="Title" formControlName="title"></ion-input>
      <ion-note slot="error">Title is required</ion-note>
    </ion-item>
    <ion-item>
      <ion-input label="Description" labelPlacement="floating" placeholder="Description" formControlName="description"></ion-input>
      <ion-note slot="error">Description's field must be minimum length 5 and maximum 100</ion-note>
    </ion-item>
    <ion-item>
      <ion-input label="Principal Photo" labelPlacement="floating" type="file" formControlName="photo" (change)="onFileSelected($event)"></ion-input>
    </ion-item>

    <ion-item>
      <ion-input type="number" label="Ingredients" labelPlacement="floating" placeholder="Ingredients" formControlName="ingredientNumber" min="1" 
      max="15"></ion-input>
      <ion-button (click)="generateIngredients()">+</ion-button>
    </ion-item>
    <ng-container *ngFor="let ingredient of ingredients; let i = index">
      <ion-item>
        <ion-label position="floating">Ingredient {{i + 1}}</ion-label>
        <ion-input formControlName="ingredient{{i}}"></ion-input>
      </ion-item>
    </ng-container>
    <ion-item>

      <ion-input type="number" label="Recipe steps" labelPlacement="floating" placeholder="Recipe steps" formControlName="stepNumber" min="1" 
      max="15"></ion-input>
      <ion-button (click)="generateSteps()">+</ion-button>
    </ion-item>
    <ng-container *ngFor="let step of steps; let i = index">
      <ion-item>
        <!--<ion-input label="Step {{i + 1}} image" labelPlacement="floating" type="file" formControlName="stepImg{{i}}" (change)="onFileSelected($event)"></ion-input>-->
        <ion-label position="floating">Step {{i + 1}} title</ion-label>
        <ion-input formControlName="steptitle{{i}}"></ion-input>
        <ion-label position="floating">Step {{i + 1}} description</ion-label>
        <ion-input formControlName="stepdescription{{i}}"></ion-input>
      </ion-item>
    </ng-container>
    <ion-button type="submit" [disabled]="!formRecipe.valid">Accept</ion-button>
  </form>
</ion-content>

<app-footer></app-footer>